{"ast":null,"code":"import { sub, mul, div, add } from './OperatorNode.js';\nimport { addNodeElement } from '../shadernode/ShaderNode.js';\nimport { PI, pow, sin } from './MathNode.js';\n\n// remapping functions https://iquilezles.org/articles/functions/\nexport var parabola = function parabola(x, k) {\n  return pow(mul(4.0, x.mul(sub(1.0, x))), k);\n};\nexport var gain = function gain(x, k) {\n  return x.lessThan(0.5) ? parabola(x.mul(2.0), k).div(2.0) : sub(1.0, parabola(mul(sub(1.0, x), 2.0), k).div(2.0));\n};\nexport var pcurve = function pcurve(x, a, b) {\n  return pow(div(pow(x, a), add(pow(x, a), pow(sub(1.0, x), b))), 1.0 / a);\n};\nexport var sinc = function sinc(x, k) {\n  return sin(PI.mul(k.mul(x).sub(1.0))).div(PI.mul(k.mul(x).sub(1.0)));\n};\naddNodeElement('parabola', parabola);\naddNodeElement('gain', gain);\naddNodeElement('pcurve', pcurve);\naddNodeElement('sinc', sinc);","map":{"version":3,"names":["sub","mul","div","add","addNodeElement","PI","pow","sin","parabola","x","k","gain","lessThan","pcurve","a","b","sinc"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/math/MathUtils.js"],"sourcesContent":["import { sub, mul, div, add } from './OperatorNode.js';\nimport { addNodeElement } from '../shadernode/ShaderNode.js';\nimport { PI, pow, sin } from './MathNode.js';\n\n// remapping functions https://iquilezles.org/articles/functions/\nexport const parabola = ( x, k ) => pow( mul( 4.0, x.mul( sub( 1.0, x ) ) ), k );\nexport const gain = ( x, k ) => x.lessThan( 0.5 ) ? parabola( x.mul( 2.0 ), k ).div( 2.0 ) : sub( 1.0, parabola( mul( sub( 1.0, x ), 2.0 ), k ).div( 2.0 ) );\nexport const pcurve = ( x, a, b ) => pow( div( pow( x, a ), add( pow( x, a ), pow( sub( 1.0, x ), b ) ) ), 1.0 / a );\nexport const sinc = ( x, k ) => sin( PI.mul( k.mul( x ).sub( 1.0 ) ) ).div( PI.mul( k.mul( x ).sub( 1.0 ) ) );\n\n\naddNodeElement( 'parabola', parabola );\naddNodeElement( 'gain', gain );\naddNodeElement( 'pcurve', pcurve );\naddNodeElement( 'sinc', sinc );\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,GAAG,QAAQ,mBAAmB;AACtD,SAASC,cAAc,QAAQ,6BAA6B;AAC5D,SAASC,EAAE,EAAEC,GAAG,EAAEC,GAAG,QAAQ,eAAe;;AAE5C;AACA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAKC,CAAC,EAAEC,CAAC;EAAA,OAAMJ,GAAG,CAAEL,GAAG,CAAE,GAAG,EAAEQ,CAAC,CAACR,GAAG,CAAED,GAAG,CAAE,GAAG,EAAES,CAAE,CAAE,CAAE,CAAC,EAAEC,CAAE,CAAC;AAAA;AAChF,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAKF,CAAC,EAAEC,CAAC;EAAA,OAAMD,CAAC,CAACG,QAAQ,CAAE,GAAI,CAAC,GAAGJ,QAAQ,CAAEC,CAAC,CAACR,GAAG,CAAE,GAAI,CAAC,EAAES,CAAE,CAAC,CAACR,GAAG,CAAE,GAAI,CAAC,GAAGF,GAAG,CAAE,GAAG,EAAEQ,QAAQ,CAAEP,GAAG,CAAED,GAAG,CAAE,GAAG,EAAES,CAAE,CAAC,EAAE,GAAI,CAAC,EAAEC,CAAE,CAAC,CAACR,GAAG,CAAE,GAAI,CAAE,CAAC;AAAA;AAC5J,OAAO,IAAMW,MAAM,GAAG,SAATA,MAAMA,CAAKJ,CAAC,EAAEK,CAAC,EAAEC,CAAC;EAAA,OAAMT,GAAG,CAAEJ,GAAG,CAAEI,GAAG,CAAEG,CAAC,EAAEK,CAAE,CAAC,EAAEX,GAAG,CAAEG,GAAG,CAAEG,CAAC,EAAEK,CAAE,CAAC,EAAER,GAAG,CAAEN,GAAG,CAAE,GAAG,EAAES,CAAE,CAAC,EAAEM,CAAE,CAAE,CAAE,CAAC,EAAE,GAAG,GAAGD,CAAE,CAAC;AAAA;AACpH,OAAO,IAAME,IAAI,GAAG,SAAPA,IAAIA,CAAKP,CAAC,EAAEC,CAAC;EAAA,OAAMH,GAAG,CAAEF,EAAE,CAACJ,GAAG,CAAES,CAAC,CAACT,GAAG,CAAEQ,CAAE,CAAC,CAACT,GAAG,CAAE,GAAI,CAAE,CAAE,CAAC,CAACE,GAAG,CAAEG,EAAE,CAACJ,GAAG,CAAES,CAAC,CAACT,GAAG,CAAEQ,CAAE,CAAC,CAACT,GAAG,CAAE,GAAI,CAAE,CAAE,CAAC;AAAA;AAG7GI,cAAc,CAAE,UAAU,EAAEI,QAAS,CAAC;AACtCJ,cAAc,CAAE,MAAM,EAAEO,IAAK,CAAC;AAC9BP,cAAc,CAAE,QAAQ,EAAES,MAAO,CAAC;AAClCT,cAAc,CAAE,MAAM,EAAEY,IAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}