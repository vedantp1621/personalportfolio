{"ast":null,"code":"import Node, { addNodeClass } from '../core/Node.js';\nimport { timerLocal } from './TimerNode.js';\nimport { nodeObject, nodeProxy } from '../shadernode/ShaderNode.js';\nclass OscNode extends Node {\n  constructor() {\n    let method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : OscNode.SINE;\n    let timeNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : timerLocal();\n    super();\n    this.method = method;\n    this.timeNode = timeNode;\n  }\n  getNodeType(builder) {\n    return this.timeNode.getNodeType(builder);\n  }\n  setup() {\n    const method = this.method;\n    const timeNode = nodeObject(this.timeNode);\n    let outputNode = null;\n    if (method === OscNode.SINE) {\n      outputNode = timeNode.add(0.75).mul(Math.PI * 2).sin().mul(0.5).add(0.5);\n    } else if (method === OscNode.SQUARE) {\n      outputNode = timeNode.fract().round();\n    } else if (method === OscNode.TRIANGLE) {\n      outputNode = timeNode.add(0.5).fract().mul(2).sub(1).abs();\n    } else if (method === OscNode.SAWTOOTH) {\n      outputNode = timeNode.fract();\n    }\n    return outputNode;\n  }\n  serialize(data) {\n    super.serialize(data);\n    data.method = this.method;\n  }\n  deserialize(data) {\n    super.deserialize(data);\n    this.method = data.method;\n  }\n}\nOscNode.SINE = 'sine';\nOscNode.SQUARE = 'square';\nOscNode.TRIANGLE = 'triangle';\nOscNode.SAWTOOTH = 'sawtooth';\nexport default OscNode;\nexport const oscSine = nodeProxy(OscNode, OscNode.SINE);\nexport const oscSquare = nodeProxy(OscNode, OscNode.SQUARE);\nexport const oscTriangle = nodeProxy(OscNode, OscNode.TRIANGLE);\nexport const oscSawtooth = nodeProxy(OscNode, OscNode.SAWTOOTH);\naddNodeClass('OscNode', OscNode);","map":{"version":3,"names":["Node","addNodeClass","timerLocal","nodeObject","nodeProxy","OscNode","constructor","method","arguments","length","undefined","SINE","timeNode","getNodeType","builder","setup","outputNode","add","mul","Math","PI","sin","SQUARE","fract","round","TRIANGLE","sub","abs","SAWTOOTH","serialize","data","deserialize","oscSine","oscSquare","oscTriangle","oscSawtooth"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/utils/OscNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { timerLocal } from './TimerNode.js';\nimport { nodeObject, nodeProxy } from '../shadernode/ShaderNode.js';\n\nclass OscNode extends Node {\n\n\tconstructor( method = OscNode.SINE, timeNode = timerLocal() ) {\n\n\t\tsuper();\n\n\t\tthis.method = method;\n\t\tthis.timeNode = timeNode;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.timeNode.getNodeType( builder );\n\n\t}\n\n\tsetup() {\n\n\t\tconst method = this.method;\n\t\tconst timeNode = nodeObject( this.timeNode );\n\n\t\tlet outputNode = null;\n\n\t\tif ( method === OscNode.SINE ) {\n\n\t\t\toutputNode = timeNode.add( 0.75 ).mul( Math.PI * 2 ).sin().mul( 0.5 ).add( 0.5 );\n\n\t\t} else if ( method === OscNode.SQUARE ) {\n\n\t\t\toutputNode = timeNode.fract().round();\n\n\t\t} else if ( method === OscNode.TRIANGLE ) {\n\n\t\t\toutputNode = timeNode.add( 0.5 ).fract().mul( 2 ).sub( 1 ).abs();\n\n\t\t} else if ( method === OscNode.SAWTOOTH ) {\n\n\t\t\toutputNode = timeNode.fract();\n\n\t\t}\n\n\t\treturn outputNode;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.method = this.method;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.method = data.method;\n\n\t}\n\n}\n\nOscNode.SINE = 'sine';\nOscNode.SQUARE = 'square';\nOscNode.TRIANGLE = 'triangle';\nOscNode.SAWTOOTH = 'sawtooth';\n\nexport default OscNode;\n\nexport const oscSine = nodeProxy( OscNode, OscNode.SINE );\nexport const oscSquare = nodeProxy( OscNode, OscNode.SQUARE );\nexport const oscTriangle = nodeProxy( OscNode, OscNode.TRIANGLE );\nexport const oscSawtooth = nodeProxy( OscNode, OscNode.SAWTOOTH );\n\naddNodeClass( 'OscNode', OscNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}