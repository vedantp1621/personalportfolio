{"ast":null,"code":"import _classCallCheck from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node, { addNodeClass } from '../core/Node.js';\nimport { NodeUpdateType } from '../core/constants.js';\nimport { uniform } from '../core/UniformNode.js';\nimport { texture } from './TextureNode.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\nvar ReferenceNode = /*#__PURE__*/function (_Node) {\n  _inherits(ReferenceNode, _Node);\n  var _super = _createSuper(ReferenceNode);\n  function ReferenceNode(property, uniformType) {\n    var _this;\n    var object = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    _classCallCheck(this, ReferenceNode);\n    _this = _super.call(this);\n    _this.property = property;\n    _this.index = null;\n    _this.uniformType = uniformType;\n    _this.object = object;\n    _this.reference = null;\n    _this.node = null;\n    _this.updateType = NodeUpdateType.OBJECT;\n    _this.setNodeType(uniformType);\n    return _this;\n  }\n  _createClass(ReferenceNode, [{\n    key: \"updateReference\",\n    value: function updateReference(frame) {\n      this.reference = this.object !== null ? this.object : frame.object;\n      return this.reference;\n    }\n  }, {\n    key: \"setIndex\",\n    value: function setIndex(index) {\n      this.index = index;\n      return this;\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex() {\n      return this.index;\n    }\n  }, {\n    key: \"setNodeType\",\n    value: function setNodeType(uniformType) {\n      var node = null;\n      if (uniformType === 'texture') {\n        node = texture(null);\n      } else {\n        node = uniform(uniformType);\n      }\n      this.node = node;\n    }\n  }, {\n    key: \"getNodeType\",\n    value: function getNodeType(builder) {\n      return this.node.getNodeType(builder);\n    }\n  }, {\n    key: \"update\",\n    value: function update( /*frame*/\n    ) {\n      var value = this.reference[this.property];\n      if (this.index !== null) {\n        value = value[this.index];\n      }\n      this.node.value = value;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup( /*builder*/\n    ) {\n      return this.node;\n    }\n  }]);\n  return ReferenceNode;\n}(Node);\nexport default ReferenceNode;\nexport var reference = function reference(name, type, object) {\n  return nodeObject(new ReferenceNode(name, type, object));\n};\nexport var referenceIndex = function referenceIndex(name, index, type, object) {\n  return nodeObject(new ReferenceNode(name, type, object).setIndex(index));\n};\naddNodeClass('ReferenceNode', ReferenceNode);","map":{"version":3,"names":["Node","addNodeClass","NodeUpdateType","uniform","texture","nodeObject","ReferenceNode","_Node","_inherits","_super","_createSuper","property","uniformType","_this","object","arguments","length","undefined","_classCallCheck","call","index","reference","node","updateType","OBJECT","setNodeType","_createClass","key","value","updateReference","frame","setIndex","getIndex","getNodeType","builder","update","setup","name","type","referenceIndex"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/accessors/ReferenceNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { NodeUpdateType } from '../core/constants.js';\nimport { uniform } from '../core/UniformNode.js';\nimport { texture } from './TextureNode.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\n\nclass ReferenceNode extends Node {\n\n\tconstructor( property, uniformType, object = null ) {\n\n\t\tsuper();\n\n\t\tthis.property = property;\n\t\tthis.index = null;\n\n\t\tthis.uniformType = uniformType;\n\n\t\tthis.object = object;\n\t\tthis.reference = null;\n\n\t\tthis.node = null;\n\n\t\tthis.updateType = NodeUpdateType.OBJECT;\n\n\t\tthis.setNodeType( uniformType );\n\n\t}\n\n\tupdateReference( frame ) {\n\n\t\tthis.reference = this.object !== null ? this.object : frame.object;\n\n\t\treturn this.reference;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tthis.index = index;\n\n\t\treturn this;\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetNodeType( uniformType ) {\n\n\t\tlet node = null;\n\n\t\tif ( uniformType === 'texture' ) {\n\n\t\t\tnode = texture( null );\n\n\t\t} else {\n\n\t\t\tnode = uniform( uniformType );\n\n\t\t}\n\n\t\tthis.node = node;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.node.getNodeType( builder );\n\n\t}\n\n\tupdate( /*frame*/ ) {\n\n\t\tlet value = this.reference[ this.property ];\n\n\t\tif ( this.index !== null ) {\n\n\t\t\tvalue = value[ this.index ];\n\n\t\t}\n\n\t\tthis.node.value = value;\n\n\t}\n\n\tsetup( /*builder*/ ) {\n\n\t\treturn this.node;\n\n\t}\n\n}\n\nexport default ReferenceNode;\n\nexport const reference = ( name, type, object ) => nodeObject( new ReferenceNode( name, type, object ) );\nexport const referenceIndex = ( name, index, type, object ) => nodeObject( new ReferenceNode( name, type, object ).setIndex( index ) );\n\naddNodeClass( 'ReferenceNode', ReferenceNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}