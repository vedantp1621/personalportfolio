{"ast":null,"code":"import _slicedToArray from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// https://github.com/cabbibo/glsl-tri-noise-3d\n\nimport { loop } from '../utils/LoopNode.js';\nimport { float, vec3, tslFn } from '../shadernode/ShaderNode.js';\nvar tri = tslFn(function (_ref) {\n  var _ref2 = _slicedToArray(_ref, 1),\n    x = _ref2[0];\n  return x.fract().sub(.5).abs();\n});\nvar tri3 = tslFn(function (_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 1),\n    p = _ref4[0];\n  return vec3(tri(p.z.add(tri(p.y.mul(1.)))), tri(p.z.add(tri(p.x.mul(1.)))), tri(p.y.add(tri(p.x.mul(1.)))));\n});\nvar triNoise3D = tslFn(function (_ref5) {\n  var _ref6 = _slicedToArray(_ref5, 3),\n    p_immutable = _ref6[0],\n    spd = _ref6[1],\n    time = _ref6[2];\n  var p = vec3(p_immutable).toVar();\n  var z = float(1.4).toVar();\n  var rz = float(0.0).toVar();\n  var bp = vec3(p).toVar();\n  loop({\n    start: float(0.0),\n    end: float(3.0),\n    type: 'float',\n    condition: '<='\n  }, function () {\n    var dg = vec3(tri3(bp.mul(2.0))).toVar();\n    p.addAssign(dg.add(time.mul(float(0.1).mul(spd))));\n    bp.mulAssign(1.8);\n    z.mulAssign(1.5);\n    p.mulAssign(1.2);\n    var t = float(tri(p.z.add(tri(p.x.add(tri(p.y)))))).toVar();\n    rz.addAssign(t.div(z));\n    bp.addAssign(0.14);\n  });\n  return rz;\n});\n\n// layouts\n\ntri.setLayout({\n  name: 'tri',\n  type: 'float',\n  inputs: [{\n    name: 'x',\n    type: 'float'\n  }]\n});\ntri3.setLayout({\n  name: 'tri3',\n  type: 'vec3',\n  inputs: [{\n    name: 'p',\n    type: 'vec3'\n  }]\n});\ntriNoise3D.setLayout({\n  name: 'triNoise3D',\n  type: 'float',\n  inputs: [{\n    name: 'p',\n    type: 'vec3'\n  }, {\n    name: 'spd',\n    type: 'float'\n  }, {\n    name: 'time',\n    type: 'float'\n  }]\n});\nexport { tri, tri3, triNoise3D };","map":{"version":3,"names":["loop","float","vec3","tslFn","tri","_ref","_ref2","_slicedToArray","x","fract","sub","abs","tri3","_ref3","_ref4","p","z","add","y","mul","triNoise3D","_ref5","_ref6","p_immutable","spd","time","toVar","rz","bp","start","end","type","condition","dg","addAssign","mulAssign","t","div","setLayout","name","inputs"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/math/TriNoise3D.js"],"sourcesContent":["// https://github.com/cabbibo/glsl-tri-noise-3d\n\nimport { loop } from '../utils/LoopNode.js';\nimport { float, vec3, tslFn } from '../shadernode/ShaderNode.js';\n\nconst tri = tslFn( ( [ x ] ) => {\n\n\treturn x.fract().sub( .5 ).abs();\n\n} );\n\nconst tri3 = tslFn( ( [ p ] ) => {\n\n\treturn vec3( tri( p.z.add( tri( p.y.mul( 1. ) ) ) ), tri( p.z.add( tri( p.x.mul( 1. ) ) ) ), tri( p.y.add( tri( p.x.mul( 1. ) ) ) ) );\n\n} );\n\nconst triNoise3D = tslFn( ( [ p_immutable, spd, time ] ) => {\n\n\tconst p = vec3( p_immutable ).toVar();\n\tconst z = float( 1.4 ).toVar();\n\tconst rz = float( 0.0 ).toVar();\n\tconst bp = vec3( p ).toVar();\n\n\tloop( { start: float( 0.0 ), end: float( 3.0 ), type: 'float', condition: '<=' }, () => {\n\n\t\tconst dg = vec3( tri3( bp.mul( 2.0 ) ) ).toVar();\n\t\tp.addAssign( dg.add( time.mul( float( 0.1 ).mul( spd ) ) ) );\n\t\tbp.mulAssign( 1.8 );\n\t\tz.mulAssign( 1.5 );\n\t\tp.mulAssign( 1.2 );\n\n\t\tconst t = float( tri( p.z.add( tri( p.x.add( tri( p.y ) ) ) ) ) ).toVar();\n\t\trz.addAssign( t.div( z ) );\n\t\tbp.addAssign( 0.14 );\n\n\t} );\n\n\treturn rz;\n\n} );\n\n// layouts\n\ntri.setLayout( {\n\tname: 'tri',\n\ttype: 'float',\n\tinputs: [\n\t\t{ name: 'x', type: 'float' }\n\t]\n} );\n\ntri3.setLayout( {\n\tname: 'tri3',\n\ttype: 'vec3',\n\tinputs: [\n\t\t{ name: 'p', type: 'vec3' }\n\t]\n} );\n\ntriNoise3D.setLayout( {\n\tname: 'triNoise3D',\n\ttype: 'float',\n\tinputs: [\n\t\t{ name: 'p', type: 'vec3' },\n\t\t{ name: 'spd', type: 'float' },\n\t\t{ name: 'time', type: 'float' }\n\t]\n} );\n\nexport { tri, tri3, triNoise3D };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}