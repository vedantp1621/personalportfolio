{"ast":null,"code":"import { tslFn } from '../../shadernode/ShaderNode.js';\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is \"roughness squared\" in Disney’s reparameterization\nvar D_GGX = tslFn(function (_ref) {\n  var alpha = _ref.alpha,\n    dotNH = _ref.dotNH;\n  var a2 = alpha.pow2();\n  var denom = dotNH.pow2().mul(a2.oneMinus()).oneMinus(); // avoid alpha = 0 with dotNH = 1\n\n  return a2.div(denom.pow2()).mul(1 / Math.PI);\n}).setLayout({\n  name: 'D_GGX',\n  type: 'float',\n  inputs: [{\n    name: 'alpha',\n    type: 'float'\n  }, {\n    name: 'dotNH',\n    type: 'float'\n  }]\n}); // validated\n\nexport default D_GGX;","map":{"version":3,"names":["tslFn","D_GGX","_ref","alpha","dotNH","a2","pow2","denom","mul","oneMinus","div","Math","PI","setLayout","name","type","inputs"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/functions/BSDF/D_GGX.js"],"sourcesContent":["import { tslFn } from '../../shadernode/ShaderNode.js';\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is \"roughness squared\" in Disney’s reparameterization\nconst D_GGX = tslFn( ( { alpha, dotNH } ) => {\n\n\tconst a2 = alpha.pow2();\n\n\tconst denom = dotNH.pow2().mul( a2.oneMinus() ).oneMinus(); // avoid alpha = 0 with dotNH = 1\n\n\treturn a2.div( denom.pow2() ).mul( 1 / Math.PI );\n\n} ).setLayout( {\n\tname: 'D_GGX',\n\ttype: 'float',\n\tinputs: [\n\t\t{ name: 'alpha', type: 'float' },\n\t\t{ name: 'dotNH', type: 'float' }\n\t]\n} ); // validated\n\nexport default D_GGX;\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,gCAAgC;;AAEtD;AACA;AACA;AACA,IAAMC,KAAK,GAAGD,KAAK,CAAE,UAAAE,IAAA,EAAwB;EAAA,IAApBC,KAAK,GAAAD,IAAA,CAALC,KAAK;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;EAEpC,IAAMC,EAAE,GAAGF,KAAK,CAACG,IAAI,CAAC,CAAC;EAEvB,IAAMC,KAAK,GAAGH,KAAK,CAACE,IAAI,CAAC,CAAC,CAACE,GAAG,CAAEH,EAAE,CAACI,QAAQ,CAAC,CAAE,CAAC,CAACA,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAE5D,OAAOJ,EAAE,CAACK,GAAG,CAAEH,KAAK,CAACD,IAAI,CAAC,CAAE,CAAC,CAACE,GAAG,CAAE,CAAC,GAAGG,IAAI,CAACC,EAAG,CAAC;AAEjD,CAAE,CAAC,CAACC,SAAS,CAAE;EACdC,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,OAAO;EACbC,MAAM,EAAE,CACP;IAAEF,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAQ,CAAC,EAChC;IAAED,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAQ,CAAC;AAElC,CAAE,CAAC,CAAC,CAAC;;AAEL,eAAed,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}