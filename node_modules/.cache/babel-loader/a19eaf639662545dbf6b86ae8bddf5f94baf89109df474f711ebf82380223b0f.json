{"ast":null,"code":"import _classCallCheck from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node, { addNodeClass } from './Node.js';\nimport { varying } from './VaryingNode.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\nvar AttributeNode = /*#__PURE__*/function (_Node) {\n  _inherits(AttributeNode, _Node);\n  var _super = _createSuper(AttributeNode);\n  function AttributeNode(attributeName) {\n    var _this;\n    var nodeType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    _classCallCheck(this, AttributeNode);\n    _this = _super.call(this, nodeType);\n    _this._attributeName = attributeName;\n    return _this;\n  }\n  _createClass(AttributeNode, [{\n    key: \"isGlobal\",\n    value: function isGlobal() {\n      return true;\n    }\n  }, {\n    key: \"getHash\",\n    value: function getHash(builder) {\n      return this.getAttributeName(builder);\n    }\n  }, {\n    key: \"getNodeType\",\n    value: function getNodeType(builder) {\n      var nodeType = _get(_getPrototypeOf(AttributeNode.prototype), \"getNodeType\", this).call(this, builder);\n      if (nodeType === null) {\n        var attributeName = this.getAttributeName(builder);\n        if (builder.hasGeometryAttribute(attributeName)) {\n          var _attribute = builder.geometry.getAttribute(attributeName);\n          nodeType = builder.getTypeFromAttribute(_attribute);\n        } else {\n          nodeType = 'float';\n        }\n      }\n      return nodeType;\n    }\n  }, {\n    key: \"setAttributeName\",\n    value: function setAttributeName(attributeName) {\n      this._attributeName = attributeName;\n      return this;\n    }\n  }, {\n    key: \"getAttributeName\",\n    value: function getAttributeName( /*builder*/\n    ) {\n      return this._attributeName;\n    }\n  }, {\n    key: \"generate\",\n    value: function generate(builder) {\n      var attributeName = this.getAttributeName(builder);\n      var nodeType = this.getNodeType(builder);\n      var geometryAttribute = builder.hasGeometryAttribute(attributeName);\n      if (geometryAttribute === true) {\n        var _attribute2 = builder.geometry.getAttribute(attributeName);\n        var attributeType = builder.getTypeFromAttribute(_attribute2);\n        var nodeAttribute = builder.getAttribute(attributeName, attributeType);\n        if (builder.shaderStage === 'vertex') {\n          return builder.format(nodeAttribute.name, attributeType, nodeType);\n        } else {\n          var nodeVarying = varying(this);\n          return nodeVarying.build(builder, nodeType);\n        }\n      } else {\n        console.warn(\"AttributeNode: Vertex attribute \\\"\".concat(attributeName, \"\\\" not found on geometry.\"));\n        return builder.generateConst(nodeType);\n      }\n    }\n  }]);\n  return AttributeNode;\n}(Node);\nexport default AttributeNode;\nexport var attribute = function attribute(name, nodeType) {\n  return nodeObject(new AttributeNode(name, nodeType));\n};\naddNodeClass('AttributeNode', AttributeNode);","map":{"version":3,"names":["Node","addNodeClass","varying","nodeObject","AttributeNode","_Node","_inherits","_super","_createSuper","attributeName","_this","nodeType","arguments","length","undefined","_classCallCheck","call","_attributeName","_createClass","key","value","isGlobal","getHash","builder","getAttributeName","getNodeType","_get","_getPrototypeOf","prototype","hasGeometryAttribute","attribute","geometry","getAttribute","getTypeFromAttribute","setAttributeName","generate","geometryAttribute","attributeType","nodeAttribute","shaderStage","format","name","nodeVarying","build","console","warn","concat","generateConst"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/core/AttributeNode.js"],"sourcesContent":["import Node, { addNodeClass } from './Node.js';\nimport { varying } from './VaryingNode.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\n\nclass AttributeNode extends Node {\n\n\tconstructor( attributeName, nodeType = null ) {\n\n\t\tsuper( nodeType );\n\n\t\tthis._attributeName = attributeName;\n\n\t}\n\n\tisGlobal() {\n\n\t\treturn true;\n\n\t}\n\n\tgetHash( builder ) {\n\n\t\treturn this.getAttributeName( builder );\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\tlet nodeType = super.getNodeType( builder );\n\n\t\tif ( nodeType === null ) {\n\n\t\t\tconst attributeName = this.getAttributeName( builder );\n\n\t\t\tif ( builder.hasGeometryAttribute( attributeName ) ) {\n\n\t\t\t\tconst attribute = builder.geometry.getAttribute( attributeName );\n\n\t\t\t\tnodeType = builder.getTypeFromAttribute( attribute );\n\n\t\t\t} else {\n\n\t\t\t\tnodeType = 'float';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn nodeType;\n\n\t}\n\n\tsetAttributeName( attributeName ) {\n\n\t\tthis._attributeName = attributeName;\n\n\t\treturn this;\n\n\t}\n\n\tgetAttributeName( /*builder*/ ) {\n\n\t\treturn this._attributeName;\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst attributeName = this.getAttributeName( builder );\n\t\tconst nodeType = this.getNodeType( builder );\n\t\tconst geometryAttribute = builder.hasGeometryAttribute( attributeName );\n\n\t\tif ( geometryAttribute === true ) {\n\n\t\t\tconst attribute = builder.geometry.getAttribute( attributeName );\n\t\t\tconst attributeType = builder.getTypeFromAttribute( attribute );\n\n\t\t\tconst nodeAttribute = builder.getAttribute( attributeName, attributeType );\n\n\t\t\tif ( builder.shaderStage === 'vertex' ) {\n\n\t\t\t\treturn builder.format( nodeAttribute.name, attributeType, nodeType );\n\n\t\t\t} else {\n\n\t\t\t\tconst nodeVarying = varying( this );\n\n\t\t\t\treturn nodeVarying.build( builder, nodeType );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( `AttributeNode: Vertex attribute \"${ attributeName }\" not found on geometry.` );\n\n\t\t\treturn builder.generateConst( nodeType );\n\n\t\t}\n\n\t}\n\n}\n\nexport default AttributeNode;\n\nexport const attribute = ( name, nodeType ) => nodeObject( new AttributeNode( name, nodeType ) );\n\naddNodeClass( 'AttributeNode', AttributeNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}