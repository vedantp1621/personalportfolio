{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport Node, { addNodeClass } from '../core/Node.js';\nimport { vectorComponents } from '../core/constants.js';\nvar stringVectorComponents = vectorComponents.join('');\nvar SplitNode = /*#__PURE__*/function (_Node) {\n  _inherits(SplitNode, _Node);\n  var _super = _createSuper(SplitNode);\n  function SplitNode(node) {\n    var _this;\n    var components = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'x';\n    _classCallCheck(this, SplitNode);\n    _this = _super.call(this);\n    _this.node = node;\n    _this.components = components;\n    _this.isSplitNode = true;\n    return _this;\n  }\n  _createClass(SplitNode, [{\n    key: \"getVectorLength\",\n    value: function getVectorLength() {\n      var vectorLength = this.components.length;\n      var _iterator = _createForOfIteratorHelper(this.components),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var c = _step.value;\n          vectorLength = Math.max(vectorComponents.indexOf(c) + 1, vectorLength);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return vectorLength;\n    }\n  }, {\n    key: \"getComponentType\",\n    value: function getComponentType(builder) {\n      return builder.getComponentType(this.node.getNodeType(builder));\n    }\n  }, {\n    key: \"getNodeType\",\n    value: function getNodeType(builder) {\n      return builder.getTypeFromLength(this.components.length, this.getComponentType(builder));\n    }\n  }, {\n    key: \"generate\",\n    value: function generate(builder, output) {\n      var node = this.node;\n      var nodeTypeLength = builder.getTypeLength(node.getNodeType(builder));\n      var snippet = null;\n      if (nodeTypeLength > 1) {\n        var type = null;\n        var componentsLength = this.getVectorLength();\n        if (componentsLength >= nodeTypeLength) {\n          // needed expand the input node\n\n          type = builder.getTypeFromLength(this.getVectorLength(), this.getComponentType(builder));\n        }\n        var nodeSnippet = node.build(builder, type);\n        if (this.components.length === nodeTypeLength && this.components === stringVectorComponents.slice(0, this.components.length)) {\n          // unnecessary swizzle\n\n          snippet = builder.format(nodeSnippet, type, output);\n        } else {\n          snippet = builder.format(\"\".concat(nodeSnippet, \".\").concat(this.components), this.getNodeType(builder), output);\n        }\n      } else {\n        // ignore .components if .node returns float/integer\n\n        snippet = node.build(builder, output);\n      }\n      return snippet;\n    }\n  }, {\n    key: \"serialize\",\n    value: function serialize(data) {\n      _get(_getPrototypeOf(SplitNode.prototype), \"serialize\", this).call(this, data);\n      data.components = this.components;\n    }\n  }, {\n    key: \"deserialize\",\n    value: function deserialize(data) {\n      _get(_getPrototypeOf(SplitNode.prototype), \"deserialize\", this).call(this, data);\n      this.components = data.components;\n    }\n  }]);\n  return SplitNode;\n}(Node);\nexport default SplitNode;\naddNodeClass('SplitNode', SplitNode);","map":{"version":3,"names":["Node","addNodeClass","vectorComponents","stringVectorComponents","join","SplitNode","_Node","_inherits","_super","_createSuper","node","_this","components","arguments","length","undefined","_classCallCheck","call","isSplitNode","_createClass","key","value","getVectorLength","vectorLength","_iterator","_createForOfIteratorHelper","_step","s","n","done","c","Math","max","indexOf","err","e","f","getComponentType","builder","getNodeType","getTypeFromLength","generate","output","nodeTypeLength","getTypeLength","snippet","type","componentsLength","nodeSnippet","build","slice","format","concat","serialize","data","_get","_getPrototypeOf","prototype","deserialize"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/utils/SplitNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { vectorComponents } from '../core/constants.js';\n\nconst stringVectorComponents = vectorComponents.join( '' );\n\nclass SplitNode extends Node {\n\n\tconstructor( node, components = 'x' ) {\n\n\t\tsuper();\n\n\t\tthis.node = node;\n\t\tthis.components = components;\n\n\t\tthis.isSplitNode = true;\n\n\t}\n\n\tgetVectorLength() {\n\n\t\tlet vectorLength = this.components.length;\n\n\t\tfor ( const c of this.components ) {\n\n\t\t\tvectorLength = Math.max( vectorComponents.indexOf( c ) + 1, vectorLength );\n\n\t\t}\n\n\t\treturn vectorLength;\n\n\t}\n\n\tgetComponentType( builder ) {\n\n\t\treturn builder.getComponentType( this.node.getNodeType( builder ) );\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn builder.getTypeFromLength( this.components.length, this.getComponentType( builder ) );\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst node = this.node;\n\t\tconst nodeTypeLength = builder.getTypeLength( node.getNodeType( builder ) );\n\n\t\tlet snippet = null;\n\n\t\tif ( nodeTypeLength > 1 ) {\n\n\t\t\tlet type = null;\n\n\t\t\tconst componentsLength = this.getVectorLength();\n\n\t\t\tif ( componentsLength >= nodeTypeLength ) {\n\n\t\t\t\t// needed expand the input node\n\n\t\t\t\ttype = builder.getTypeFromLength( this.getVectorLength(), this.getComponentType( builder ) );\n\n\t\t\t}\n\n\t\t\tconst nodeSnippet = node.build( builder, type );\n\n\t\t\tif ( this.components.length === nodeTypeLength && this.components === stringVectorComponents.slice( 0, this.components.length ) ) {\n\n\t\t\t\t// unnecessary swizzle\n\n\t\t\t\tsnippet = builder.format( nodeSnippet, type, output );\n\n\t\t\t} else {\n\n\t\t\t\tsnippet = builder.format( `${nodeSnippet}.${this.components}`, this.getNodeType( builder ), output );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// ignore .components if .node returns float/integer\n\n\t\t\tsnippet = node.build( builder, output );\n\n\t\t}\n\n\t\treturn snippet;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.components = this.components;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.components = data.components;\n\n\t}\n\n}\n\nexport default SplitNode;\n\naddNodeClass( 'SplitNode', SplitNode );\n"],"mappings":";;;;;;;AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,iBAAiB;AACpD,SAASC,gBAAgB,QAAQ,sBAAsB;AAEvD,IAAMC,sBAAsB,GAAGD,gBAAgB,CAACE,IAAI,CAAE,EAAG,CAAC;AAAC,IAErDC,SAAS,0BAAAC,KAAA;EAAAC,SAAA,CAAAF,SAAA,EAAAC,KAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,SAAA;EAEd,SAAAA,UAAaK,IAAI,EAAqB;IAAA,IAAAC,KAAA;IAAA,IAAnBC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAG;IAAAG,eAAA,OAAAX,SAAA;IAElCM,KAAA,GAAAH,MAAA,CAAAS,IAAA;IAEAN,KAAA,CAAKD,IAAI,GAAGA,IAAI;IAChBC,KAAA,CAAKC,UAAU,GAAGA,UAAU;IAE5BD,KAAA,CAAKO,WAAW,GAAG,IAAI;IAAC,OAAAP,KAAA;EAEzB;EAACQ,YAAA,CAAAd,SAAA;IAAAe,GAAA;IAAAC,KAAA,EAED,SAAAC,gBAAA,EAAkB;MAEjB,IAAIC,YAAY,GAAG,IAAI,CAACX,UAAU,CAACE,MAAM;MAAC,IAAAU,SAAA,GAAAC,0BAAA,CAEzB,IAAI,CAACb,UAAU;QAAAc,KAAA;MAAA;QAAhC,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAmC;UAAA,IAAvBC,CAAC,GAAAJ,KAAA,CAAAL,KAAA;UAEZE,YAAY,GAAGQ,IAAI,CAACC,GAAG,CAAE9B,gBAAgB,CAAC+B,OAAO,CAAEH,CAAE,CAAC,GAAG,CAAC,EAAEP,YAAa,CAAC;QAE3E;MAAC,SAAAW,GAAA;QAAAV,SAAA,CAAAW,CAAA,CAAAD,GAAA;MAAA;QAAAV,SAAA,CAAAY,CAAA;MAAA;MAED,OAAOb,YAAY;IAEpB;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAED,SAAAgB,iBAAkBC,OAAO,EAAG;MAE3B,OAAOA,OAAO,CAACD,gBAAgB,CAAE,IAAI,CAAC3B,IAAI,CAAC6B,WAAW,CAAED,OAAQ,CAAE,CAAC;IAEpE;EAAC;IAAAlB,GAAA;IAAAC,KAAA,EAED,SAAAkB,YAAaD,OAAO,EAAG;MAEtB,OAAOA,OAAO,CAACE,iBAAiB,CAAE,IAAI,CAAC5B,UAAU,CAACE,MAAM,EAAE,IAAI,CAACuB,gBAAgB,CAAEC,OAAQ,CAAE,CAAC;IAE7F;EAAC;IAAAlB,GAAA;IAAAC,KAAA,EAED,SAAAoB,SAAUH,OAAO,EAAEI,MAAM,EAAG;MAE3B,IAAMhC,IAAI,GAAG,IAAI,CAACA,IAAI;MACtB,IAAMiC,cAAc,GAAGL,OAAO,CAACM,aAAa,CAAElC,IAAI,CAAC6B,WAAW,CAAED,OAAQ,CAAE,CAAC;MAE3E,IAAIO,OAAO,GAAG,IAAI;MAElB,IAAKF,cAAc,GAAG,CAAC,EAAG;QAEzB,IAAIG,IAAI,GAAG,IAAI;QAEf,IAAMC,gBAAgB,GAAG,IAAI,CAACzB,eAAe,CAAC,CAAC;QAE/C,IAAKyB,gBAAgB,IAAIJ,cAAc,EAAG;UAEzC;;UAEAG,IAAI,GAAGR,OAAO,CAACE,iBAAiB,CAAE,IAAI,CAAClB,eAAe,CAAC,CAAC,EAAE,IAAI,CAACe,gBAAgB,CAAEC,OAAQ,CAAE,CAAC;QAE7F;QAEA,IAAMU,WAAW,GAAGtC,IAAI,CAACuC,KAAK,CAAEX,OAAO,EAAEQ,IAAK,CAAC;QAE/C,IAAK,IAAI,CAAClC,UAAU,CAACE,MAAM,KAAK6B,cAAc,IAAI,IAAI,CAAC/B,UAAU,KAAKT,sBAAsB,CAAC+C,KAAK,CAAE,CAAC,EAAE,IAAI,CAACtC,UAAU,CAACE,MAAO,CAAC,EAAG;UAEjI;;UAEA+B,OAAO,GAAGP,OAAO,CAACa,MAAM,CAAEH,WAAW,EAAEF,IAAI,EAAEJ,MAAO,CAAC;QAEtD,CAAC,MAAM;UAENG,OAAO,GAAGP,OAAO,CAACa,MAAM,IAAAC,MAAA,CAAKJ,WAAW,OAAAI,MAAA,CAAI,IAAI,CAACxC,UAAU,GAAI,IAAI,CAAC2B,WAAW,CAAED,OAAQ,CAAC,EAAEI,MAAO,CAAC;QAErG;MAED,CAAC,MAAM;QAEN;;QAEAG,OAAO,GAAGnC,IAAI,CAACuC,KAAK,CAAEX,OAAO,EAAEI,MAAO,CAAC;MAExC;MAEA,OAAOG,OAAO;IAEf;EAAC;IAAAzB,GAAA;IAAAC,KAAA,EAED,SAAAgC,UAAWC,IAAI,EAAG;MAEjBC,IAAA,CAAAC,eAAA,CAAAnD,SAAA,CAAAoD,SAAA,sBAAAxC,IAAA,OAAiBqC,IAAI;MAErBA,IAAI,CAAC1C,UAAU,GAAG,IAAI,CAACA,UAAU;IAElC;EAAC;IAAAQ,GAAA;IAAAC,KAAA,EAED,SAAAqC,YAAaJ,IAAI,EAAG;MAEnBC,IAAA,CAAAC,eAAA,CAAAnD,SAAA,CAAAoD,SAAA,wBAAAxC,IAAA,OAAmBqC,IAAI;MAEvB,IAAI,CAAC1C,UAAU,GAAG0C,IAAI,CAAC1C,UAAU;IAElC;EAAC;EAAA,OAAAP,SAAA;AAAA,EApGsBL,IAAI;AAwG5B,eAAeK,SAAS;AAExBJ,YAAY,CAAE,WAAW,EAAEI,SAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}