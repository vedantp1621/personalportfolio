{"ast":null,"code":"import { tslFn, vec2, vec4 } from '../../shadernode/ShaderNode.js';\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via 'environmentBRDF' from \"Physically Based Shading on Mobile\"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile\nvar DFGApprox = tslFn(function (_ref) {\n  var roughness = _ref.roughness,\n    dotNV = _ref.dotNV;\n  var c0 = vec4(-1, -0.0275, -0.572, 0.022);\n  var c1 = vec4(1, 0.0425, 1.04, -0.04);\n  var r = roughness.mul(c0).add(c1);\n  var a004 = r.x.mul(r.x).min(dotNV.mul(-9.28).exp2()).mul(r.x).add(r.y);\n  var fab = vec2(-1.04, 1.04).mul(a004).add(r.zw);\n  return fab;\n}).setLayout({\n  name: 'DFGApprox',\n  type: 'vec2',\n  inputs: [{\n    name: 'roughness',\n    type: 'float'\n  }, {\n    name: 'dotNV',\n    type: 'vec3'\n  }]\n});\nexport default DFGApprox;","map":{"version":3,"names":["tslFn","vec2","vec4","DFGApprox","_ref","roughness","dotNV","c0","c1","r","mul","add","a004","x","min","exp2","y","fab","zw","setLayout","name","type","inputs"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/functions/BSDF/DFGApprox.js"],"sourcesContent":["import { tslFn, vec2, vec4 } from '../../shadernode/ShaderNode.js';\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via 'environmentBRDF' from \"Physically Based Shading on Mobile\"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile\nconst DFGApprox = tslFn( ( { roughness, dotNV } ) => {\n\n\tconst c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tconst r = roughness.mul( c0 ).add( c1 );\n\n\tconst a004 = r.x.mul( r.x ).min( dotNV.mul( - 9.28 ).exp2() ).mul( r.x ).add( r.y );\n\n\tconst fab = vec2( - 1.04, 1.04 ).mul( a004 ).add( r.zw );\n\n\treturn fab;\n\n} ).setLayout( {\n\tname: 'DFGApprox',\n\ttype: 'vec2',\n\tinputs: [\n\t\t{ name: 'roughness', type: 'float' },\n\t\t{ name: 'dotNV', type: 'vec3' }\n\t]\n} );\n\nexport default DFGApprox;\n"],"mappings":"AAAA,SAASA,KAAK,EAAEC,IAAI,EAAEC,IAAI,QAAQ,gCAAgC;;AAElE;AACA;AACA;AACA;AACA,IAAMC,SAAS,GAAGH,KAAK,CAAE,UAAAI,IAAA,EAA4B;EAAA,IAAxBC,SAAS,GAAAD,IAAA,CAATC,SAAS;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;EAE5C,IAAMC,EAAE,GAAGL,IAAI,CAAE,CAAE,CAAC,EAAE,CAAE,MAAM,EAAE,CAAE,KAAK,EAAE,KAAM,CAAC;EAEhD,IAAMM,EAAE,GAAGN,IAAI,CAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAE,IAAK,CAAC;EAE1C,IAAMO,CAAC,GAAGJ,SAAS,CAACK,GAAG,CAAEH,EAAG,CAAC,CAACI,GAAG,CAAEH,EAAG,CAAC;EAEvC,IAAMI,IAAI,GAAGH,CAAC,CAACI,CAAC,CAACH,GAAG,CAAED,CAAC,CAACI,CAAE,CAAC,CAACC,GAAG,CAAER,KAAK,CAACI,GAAG,CAAE,CAAE,IAAK,CAAC,CAACK,IAAI,CAAC,CAAE,CAAC,CAACL,GAAG,CAAED,CAAC,CAACI,CAAE,CAAC,CAACF,GAAG,CAAEF,CAAC,CAACO,CAAE,CAAC;EAEnF,IAAMC,GAAG,GAAGhB,IAAI,CAAE,CAAE,IAAI,EAAE,IAAK,CAAC,CAACS,GAAG,CAAEE,IAAK,CAAC,CAACD,GAAG,CAAEF,CAAC,CAACS,EAAG,CAAC;EAExD,OAAOD,GAAG;AAEX,CAAE,CAAC,CAACE,SAAS,CAAE;EACdC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,MAAM,EAAE,CACP;IAAEF,IAAI,EAAE,WAAW;IAAEC,IAAI,EAAE;EAAQ,CAAC,EACpC;IAAED,IAAI,EAAE,OAAO;IAAEC,IAAI,EAAE;EAAO,CAAC;AAEjC,CAAE,CAAC;AAEH,eAAelB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}