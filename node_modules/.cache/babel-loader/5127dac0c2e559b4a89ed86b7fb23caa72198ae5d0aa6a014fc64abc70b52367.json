{"ast":null,"code":"import Node, { addNodeClass } from '../core/Node.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\nclass CodeNode extends Node {\n  constructor() {\n    let code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let includes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    let language = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    super('code');\n    this.isCodeNode = true;\n    this.code = code;\n    this.language = language;\n    this.includes = includes;\n  }\n  setIncludes(includes) {\n    this.includes = includes;\n    return this;\n  }\n  getIncludes( /*builder*/\n  ) {\n    return this.includes;\n  }\n  generate(builder) {\n    const includes = this.getIncludes(builder);\n    for (const include of includes) {\n      include.build(builder);\n    }\n    const nodeCode = builder.getCodeFromNode(this, this.getNodeType(builder));\n    nodeCode.code = this.code;\n    return nodeCode.code;\n  }\n  serialize(data) {\n    super.serialize(data);\n    data.code = this.code;\n    data.language = this.language;\n  }\n  deserialize(data) {\n    super.deserialize(data);\n    this.code = data.code;\n    this.language = data.language;\n  }\n}\nexport default CodeNode;\nexport const code = nodeProxy(CodeNode);\nexport const js = (src, includes) => code(src, includes, 'js');\nexport const wgsl = (src, includes) => code(src, includes, 'wgsl');\nexport const glsl = (src, includes) => code(src, includes, 'glsl');\naddNodeClass('CodeNode', CodeNode);","map":{"version":3,"names":["Node","addNodeClass","nodeProxy","CodeNode","constructor","code","arguments","length","undefined","includes","language","isCodeNode","setIncludes","getIncludes","generate","builder","include","build","nodeCode","getCodeFromNode","getNodeType","serialize","data","deserialize","js","src","wgsl","glsl"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/code/CodeNode.js"],"sourcesContent":["import Node, { addNodeClass } from '../core/Node.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\n\nclass CodeNode extends Node {\n\n\tconstructor( code = '', includes = [], language = '' ) {\n\n\t\tsuper( 'code' );\n\n\t\tthis.isCodeNode = true;\n\n\t\tthis.code = code;\n\t\tthis.language = language;\n\n\t\tthis.includes = includes;\n\n\t}\n\n\tsetIncludes( includes ) {\n\n\t\tthis.includes = includes;\n\n\t\treturn this;\n\n\t}\n\n\tgetIncludes( /*builder*/ ) {\n\n\t\treturn this.includes;\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tconst includes = this.getIncludes( builder );\n\n\t\tfor ( const include of includes ) {\n\n\t\t\tinclude.build( builder );\n\n\t\t}\n\n\t\tconst nodeCode = builder.getCodeFromNode( this, this.getNodeType( builder ) );\n\t\tnodeCode.code = this.code;\n\n\t\treturn nodeCode.code;\n\n\t}\n\n\tserialize( data ) {\n\n\t\tsuper.serialize( data );\n\n\t\tdata.code = this.code;\n\t\tdata.language = this.language;\n\n\t}\n\n\tdeserialize( data ) {\n\n\t\tsuper.deserialize( data );\n\n\t\tthis.code = data.code;\n\t\tthis.language = data.language;\n\n\t}\n\n}\n\nexport default CodeNode;\n\nexport const code = nodeProxy( CodeNode );\n\nexport const js = ( src, includes ) => code( src, includes, 'js' );\nexport const wgsl = ( src, includes ) => code( src, includes, 'wgsl' );\nexport const glsl = ( src, includes ) => code( src, includes, 'glsl' );\n\naddNodeClass( 'CodeNode', CodeNode );\n"],"mappings":"AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,iBAAiB;AACpD,SAASC,SAAS,QAAQ,6BAA6B;AAEvD,MAAMC,QAAQ,SAASH,IAAI,CAAC;EAE3BI,WAAWA,CAAA,EAA4C;IAAA,IAA1CC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAAA,IAAEG,QAAQ,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAAA,IAAEI,QAAQ,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAEnD,KAAK,CAAE,MAAO,CAAC;IAEf,IAAI,CAACK,UAAU,GAAG,IAAI;IAEtB,IAAI,CAACN,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACK,QAAQ,GAAGA,QAAQ;IAExB,IAAI,CAACD,QAAQ,GAAGA,QAAQ;EAEzB;EAEAG,WAAWA,CAAEH,QAAQ,EAAG;IAEvB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IAExB,OAAO,IAAI;EAEZ;EAEAI,WAAWA,CAAA,CAAE;EAAA,EAAc;IAE1B,OAAO,IAAI,CAACJ,QAAQ;EAErB;EAEAK,QAAQA,CAAEC,OAAO,EAAG;IAEnB,MAAMN,QAAQ,GAAG,IAAI,CAACI,WAAW,CAAEE,OAAQ,CAAC;IAE5C,KAAM,MAAMC,OAAO,IAAIP,QAAQ,EAAG;MAEjCO,OAAO,CAACC,KAAK,CAAEF,OAAQ,CAAC;IAEzB;IAEA,MAAMG,QAAQ,GAAGH,OAAO,CAACI,eAAe,CAAE,IAAI,EAAE,IAAI,CAACC,WAAW,CAAEL,OAAQ,CAAE,CAAC;IAC7EG,QAAQ,CAACb,IAAI,GAAG,IAAI,CAACA,IAAI;IAEzB,OAAOa,QAAQ,CAACb,IAAI;EAErB;EAEAgB,SAASA,CAAEC,IAAI,EAAG;IAEjB,KAAK,CAACD,SAAS,CAAEC,IAAK,CAAC;IAEvBA,IAAI,CAACjB,IAAI,GAAG,IAAI,CAACA,IAAI;IACrBiB,IAAI,CAACZ,QAAQ,GAAG,IAAI,CAACA,QAAQ;EAE9B;EAEAa,WAAWA,CAAED,IAAI,EAAG;IAEnB,KAAK,CAACC,WAAW,CAAED,IAAK,CAAC;IAEzB,IAAI,CAACjB,IAAI,GAAGiB,IAAI,CAACjB,IAAI;IACrB,IAAI,CAACK,QAAQ,GAAGY,IAAI,CAACZ,QAAQ;EAE9B;AAED;AAEA,eAAeP,QAAQ;AAEvB,OAAO,MAAME,IAAI,GAAGH,SAAS,CAAEC,QAAS,CAAC;AAEzC,OAAO,MAAMqB,EAAE,GAAGA,CAAEC,GAAG,EAAEhB,QAAQ,KAAMJ,IAAI,CAAEoB,GAAG,EAAEhB,QAAQ,EAAE,IAAK,CAAC;AAClE,OAAO,MAAMiB,IAAI,GAAGA,CAAED,GAAG,EAAEhB,QAAQ,KAAMJ,IAAI,CAAEoB,GAAG,EAAEhB,QAAQ,EAAE,MAAO,CAAC;AACtE,OAAO,MAAMkB,IAAI,GAAGA,CAAEF,GAAG,EAAEhB,QAAQ,KAAMJ,IAAI,CAAEoB,GAAG,EAAEhB,QAAQ,EAAE,MAAO,CAAC;AAEtER,YAAY,CAAE,UAAU,EAAEE,QAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}