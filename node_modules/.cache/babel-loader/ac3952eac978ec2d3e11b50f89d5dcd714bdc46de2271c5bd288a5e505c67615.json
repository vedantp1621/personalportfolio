{"ast":null,"code":"import { addNodeClass } from '../core/Node.js';\nimport TempNode from '../core/TempNode.js';\nclass JoinNode extends TempNode {\n  constructor() {\n    let nodes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let nodeType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    super(nodeType);\n    this.nodes = nodes;\n  }\n  getNodeType(builder) {\n    if (this.nodeType !== null) {\n      return builder.getVectorType(this.nodeType);\n    }\n    return builder.getTypeFromLength(this.nodes.reduce((count, cur) => count + builder.getTypeLength(cur.getNodeType(builder)), 0));\n  }\n  generate(builder, output) {\n    const type = this.getNodeType(builder);\n    const nodes = this.nodes;\n    const primitiveType = builder.getComponentType(type);\n    const snippetValues = [];\n    for (const input of nodes) {\n      let inputSnippet = input.build(builder);\n      const inputPrimitiveType = builder.getComponentType(input.getNodeType(builder));\n      if (inputPrimitiveType !== primitiveType) {\n        inputSnippet = builder.format(inputSnippet, inputPrimitiveType, primitiveType);\n      }\n      snippetValues.push(inputSnippet);\n    }\n    const snippet = `${builder.getType(type)}( ${snippetValues.join(', ')} )`;\n    return builder.format(snippet, type, output);\n  }\n}\nexport default JoinNode;\naddNodeClass('JoinNode', JoinNode);","map":{"version":3,"names":["addNodeClass","TempNode","JoinNode","constructor","nodes","arguments","length","undefined","nodeType","getNodeType","builder","getVectorType","getTypeFromLength","reduce","count","cur","getTypeLength","generate","output","type","primitiveType","getComponentType","snippetValues","input","inputSnippet","build","inputPrimitiveType","format","push","snippet","getType","join"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/utils/JoinNode.js"],"sourcesContent":["import { addNodeClass } from '../core/Node.js';\nimport TempNode from '../core/TempNode.js';\n\nclass JoinNode extends TempNode {\n\n\tconstructor( nodes = [], nodeType = null ) {\n\n\t\tsuper( nodeType );\n\n\t\tthis.nodes = nodes;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\tif ( this.nodeType !== null ) {\n\n\t\t\treturn builder.getVectorType( this.nodeType );\n\n\t\t}\n\n\t\treturn builder.getTypeFromLength( this.nodes.reduce( ( count, cur ) => count + builder.getTypeLength( cur.getNodeType( builder ) ), 0 ) );\n\n\t}\n\n\tgenerate( builder, output ) {\n\n\t\tconst type = this.getNodeType( builder );\n\t\tconst nodes = this.nodes;\n\n\t\tconst primitiveType = builder.getComponentType( type );\n\n\t\tconst snippetValues = [];\n\n\t\tfor ( const input of nodes ) {\n\n\t\t\tlet inputSnippet = input.build( builder );\n\n\t\t\tconst inputPrimitiveType = builder.getComponentType( input.getNodeType( builder ) );\n\n\t\t\tif ( inputPrimitiveType !== primitiveType ) {\n\n\t\t\t\tinputSnippet = builder.format( inputSnippet, inputPrimitiveType, primitiveType );\n\n\t\t\t}\n\n\t\t\tsnippetValues.push( inputSnippet );\n\n\t\t}\n\n\t\tconst snippet = `${ builder.getType( type ) }( ${ snippetValues.join( ', ' ) } )`;\n\n\t\treturn builder.format( snippet, type, output );\n\n\t}\n\n}\n\nexport default JoinNode;\n\naddNodeClass( 'JoinNode', JoinNode );\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,OAAOC,QAAQ,MAAM,qBAAqB;AAE1C,MAAMC,QAAQ,SAASD,QAAQ,CAAC;EAE/BE,WAAWA,CAAA,EAAgC;IAAA,IAA9BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAAA,IAAEG,QAAQ,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAEvC,KAAK,CAAEG,QAAS,CAAC;IAEjB,IAAI,CAACJ,KAAK,GAAGA,KAAK;EAEnB;EAEAK,WAAWA,CAAEC,OAAO,EAAG;IAEtB,IAAK,IAAI,CAACF,QAAQ,KAAK,IAAI,EAAG;MAE7B,OAAOE,OAAO,CAACC,aAAa,CAAE,IAAI,CAACH,QAAS,CAAC;IAE9C;IAEA,OAAOE,OAAO,CAACE,iBAAiB,CAAE,IAAI,CAACR,KAAK,CAACS,MAAM,CAAE,CAAEC,KAAK,EAAEC,GAAG,KAAMD,KAAK,GAAGJ,OAAO,CAACM,aAAa,CAAED,GAAG,CAACN,WAAW,CAAEC,OAAQ,CAAE,CAAC,EAAE,CAAE,CAAE,CAAC;EAE1I;EAEAO,QAAQA,CAAEP,OAAO,EAAEQ,MAAM,EAAG;IAE3B,MAAMC,IAAI,GAAG,IAAI,CAACV,WAAW,CAAEC,OAAQ,CAAC;IACxC,MAAMN,KAAK,GAAG,IAAI,CAACA,KAAK;IAExB,MAAMgB,aAAa,GAAGV,OAAO,CAACW,gBAAgB,CAAEF,IAAK,CAAC;IAEtD,MAAMG,aAAa,GAAG,EAAE;IAExB,KAAM,MAAMC,KAAK,IAAInB,KAAK,EAAG;MAE5B,IAAIoB,YAAY,GAAGD,KAAK,CAACE,KAAK,CAAEf,OAAQ,CAAC;MAEzC,MAAMgB,kBAAkB,GAAGhB,OAAO,CAACW,gBAAgB,CAAEE,KAAK,CAACd,WAAW,CAAEC,OAAQ,CAAE,CAAC;MAEnF,IAAKgB,kBAAkB,KAAKN,aAAa,EAAG;QAE3CI,YAAY,GAAGd,OAAO,CAACiB,MAAM,CAAEH,YAAY,EAAEE,kBAAkB,EAAEN,aAAc,CAAC;MAEjF;MAEAE,aAAa,CAACM,IAAI,CAAEJ,YAAa,CAAC;IAEnC;IAEA,MAAMK,OAAO,GAAI,GAAGnB,OAAO,CAACoB,OAAO,CAAEX,IAAK,CAAG,KAAKG,aAAa,CAACS,IAAI,CAAE,IAAK,CAAG,IAAG;IAEjF,OAAOrB,OAAO,CAACiB,MAAM,CAAEE,OAAO,EAAEV,IAAI,EAAED,MAAO,CAAC;EAE/C;AAED;AAEA,eAAehB,QAAQ;AAEvBF,YAAY,CAAE,UAAU,EAAEE,QAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}