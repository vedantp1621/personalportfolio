{"ast":null,"code":"import BufferNode from './BufferNode.js';\nimport { bufferAttribute } from './BufferAttributeNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\nimport { varying } from '../core/VaryingNode.js';\nclass StorageBufferNode extends BufferNode {\n  constructor(value, bufferType) {\n    let bufferCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    super(value, bufferType, bufferCount);\n    this.isStorageBufferNode = true;\n    this._attribute = null;\n    this._varying = null;\n  }\n  getInputType( /*builder*/\n  ) {\n    return 'storageBuffer';\n  }\n  generate(builder) {\n    if (builder.isAvailable('storageBuffer')) return super.generate(builder);\n    const nodeType = this.getNodeType(builder);\n    if (this._attribute === null) {\n      this._attribute = bufferAttribute(this.value);\n      this._varying = varying(this._attribute);\n    }\n    const output = this._varying.build(builder, nodeType);\n    builder.registerTransform(output, this._attribute);\n    return output;\n  }\n}\nexport default StorageBufferNode;\nexport const storage = (value, type, count) => nodeObject(new StorageBufferNode(value, type, count));\naddNodeClass('StorageBufferNode', StorageBufferNode);","map":{"version":3,"names":["BufferNode","bufferAttribute","addNodeClass","nodeObject","varying","StorageBufferNode","constructor","value","bufferType","bufferCount","arguments","length","undefined","isStorageBufferNode","_attribute","_varying","getInputType","generate","builder","isAvailable","nodeType","getNodeType","output","build","registerTransform","storage","type","count"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/accessors/StorageBufferNode.js"],"sourcesContent":["import BufferNode from './BufferNode.js';\nimport { bufferAttribute } from './BufferAttributeNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { nodeObject } from '../shadernode/ShaderNode.js';\nimport { varying } from '../core/VaryingNode.js';\n\nclass StorageBufferNode extends BufferNode {\n\n\tconstructor( value, bufferType, bufferCount = 0 ) {\n\n\t\tsuper( value, bufferType, bufferCount );\n\n\t\tthis.isStorageBufferNode = true;\n\n\t\tthis._attribute = null;\n\t\tthis._varying = null;\n\n\t}\n\n\tgetInputType( /*builder*/ ) {\n\n\t\treturn 'storageBuffer';\n\n\t}\n\n\tgenerate( builder ) {\n\n\t\tif ( builder.isAvailable( 'storageBuffer' ) ) return super.generate( builder );\n\n\t\tconst nodeType = this.getNodeType( builder );\n\n\t\tif ( this._attribute === null ) {\n\n\t\t\tthis._attribute = bufferAttribute( this.value );\n\t\t\tthis._varying = varying( this._attribute );\n\n\t\t}\n\n\n\t\tconst output = this._varying.build( builder, nodeType );\n\n\t\tbuilder.registerTransform( output, this._attribute );\n\n\t\treturn output;\n\n\t}\n\n}\n\nexport default StorageBufferNode;\n\nexport const storage = ( value, type, count ) => nodeObject( new StorageBufferNode( value, type, count ) );\n\naddNodeClass( 'StorageBufferNode', StorageBufferNode );\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,SAASC,eAAe,QAAQ,0BAA0B;AAC1D,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,UAAU,QAAQ,6BAA6B;AACxD,SAASC,OAAO,QAAQ,wBAAwB;AAEhD,MAAMC,iBAAiB,SAASL,UAAU,CAAC;EAE1CM,WAAWA,CAAEC,KAAK,EAAEC,UAAU,EAAoB;IAAA,IAAlBC,WAAW,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;IAE9C,KAAK,CAAEH,KAAK,EAAEC,UAAU,EAAEC,WAAY,CAAC;IAEvC,IAAI,CAACI,mBAAmB,GAAG,IAAI;IAE/B,IAAI,CAACC,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,QAAQ,GAAG,IAAI;EAErB;EAEAC,YAAYA,CAAA,CAAE;EAAA,EAAc;IAE3B,OAAO,eAAe;EAEvB;EAEAC,QAAQA,CAAEC,OAAO,EAAG;IAEnB,IAAKA,OAAO,CAACC,WAAW,CAAE,eAAgB,CAAC,EAAG,OAAO,KAAK,CAACF,QAAQ,CAAEC,OAAQ,CAAC;IAE9E,MAAME,QAAQ,GAAG,IAAI,CAACC,WAAW,CAAEH,OAAQ,CAAC;IAE5C,IAAK,IAAI,CAACJ,UAAU,KAAK,IAAI,EAAG;MAE/B,IAAI,CAACA,UAAU,GAAGb,eAAe,CAAE,IAAI,CAACM,KAAM,CAAC;MAC/C,IAAI,CAACQ,QAAQ,GAAGX,OAAO,CAAE,IAAI,CAACU,UAAW,CAAC;IAE3C;IAGA,MAAMQ,MAAM,GAAG,IAAI,CAACP,QAAQ,CAACQ,KAAK,CAAEL,OAAO,EAAEE,QAAS,CAAC;IAEvDF,OAAO,CAACM,iBAAiB,CAAEF,MAAM,EAAE,IAAI,CAACR,UAAW,CAAC;IAEpD,OAAOQ,MAAM;EAEd;AAED;AAEA,eAAejB,iBAAiB;AAEhC,OAAO,MAAMoB,OAAO,GAAGA,CAAElB,KAAK,EAAEmB,IAAI,EAAEC,KAAK,KAAMxB,UAAU,CAAE,IAAIE,iBAAiB,CAAEE,KAAK,EAAEmB,IAAI,EAAEC,KAAM,CAAE,CAAC;AAE1GzB,YAAY,CAAE,mBAAmB,EAAEG,iBAAkB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}