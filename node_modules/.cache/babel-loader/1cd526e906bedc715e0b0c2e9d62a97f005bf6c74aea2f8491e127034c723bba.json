{"ast":null,"code":"import { addNodeClass } from '../core/Node.js';\nimport TempNode from '../core/TempNode.js';\nimport { cameraProjectionMatrix } from './CameraNode.js';\nimport { modelViewMatrix } from './ModelNode.js';\nimport { positionLocal } from './PositionNode.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\nimport { varying } from '../core/VaryingNode.js';\nclass ModelViewProjectionNode extends TempNode {\n  constructor() {\n    let positionNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    super('vec4');\n    this.positionNode = positionNode;\n  }\n  setup(builder) {\n    if (builder.shaderStage === 'fragment') {\n      return varying(builder.context.mvp);\n    }\n    const position = this.positionNode || positionLocal;\n    return cameraProjectionMatrix.mul(modelViewMatrix).mul(position);\n  }\n}\nexport default ModelViewProjectionNode;\nexport const modelViewProjection = nodeProxy(ModelViewProjectionNode);\naddNodeClass('ModelViewProjectionNode', ModelViewProjectionNode);","map":{"version":3,"names":["addNodeClass","TempNode","cameraProjectionMatrix","modelViewMatrix","positionLocal","nodeProxy","varying","ModelViewProjectionNode","constructor","positionNode","arguments","length","undefined","setup","builder","shaderStage","context","mvp","position","mul","modelViewProjection"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/accessors/ModelViewProjectionNode.js"],"sourcesContent":["import { addNodeClass } from '../core/Node.js';\nimport TempNode from '../core/TempNode.js';\nimport { cameraProjectionMatrix } from './CameraNode.js';\nimport { modelViewMatrix } from './ModelNode.js';\nimport { positionLocal } from './PositionNode.js';\nimport { nodeProxy } from '../shadernode/ShaderNode.js';\nimport { varying } from '../core/VaryingNode.js';\n\nclass ModelViewProjectionNode extends TempNode {\n\n\tconstructor( positionNode = null ) {\n\n\t\tsuper( 'vec4' );\n\n\t\tthis.positionNode = positionNode;\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tif ( builder.shaderStage === 'fragment' ) {\n\n\t\t\treturn varying( builder.context.mvp );\n\n\t\t}\n\n\t\tconst position = this.positionNode || positionLocal;\n\n\t\treturn cameraProjectionMatrix.mul( modelViewMatrix ).mul( position );\n\n\t}\n\n}\n\nexport default ModelViewProjectionNode;\n\nexport const modelViewProjection = nodeProxy( ModelViewProjectionNode );\n\naddNodeClass( 'ModelViewProjectionNode', ModelViewProjectionNode );\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,SAASC,sBAAsB,QAAQ,iBAAiB;AACxD,SAASC,eAAe,QAAQ,gBAAgB;AAChD,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,SAAS,QAAQ,6BAA6B;AACvD,SAASC,OAAO,QAAQ,wBAAwB;AAEhD,MAAMC,uBAAuB,SAASN,QAAQ,CAAC;EAE9CO,WAAWA,CAAA,EAAwB;IAAA,IAAtBC,YAAY,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAE/B,KAAK,CAAE,MAAO,CAAC;IAEf,IAAI,CAACD,YAAY,GAAGA,YAAY;EAEjC;EAEAI,KAAKA,CAAEC,OAAO,EAAG;IAEhB,IAAKA,OAAO,CAACC,WAAW,KAAK,UAAU,EAAG;MAEzC,OAAOT,OAAO,CAAEQ,OAAO,CAACE,OAAO,CAACC,GAAI,CAAC;IAEtC;IAEA,MAAMC,QAAQ,GAAG,IAAI,CAACT,YAAY,IAAIL,aAAa;IAEnD,OAAOF,sBAAsB,CAACiB,GAAG,CAAEhB,eAAgB,CAAC,CAACgB,GAAG,CAAED,QAAS,CAAC;EAErE;AAED;AAEA,eAAeX,uBAAuB;AAEtC,OAAO,MAAMa,mBAAmB,GAAGf,SAAS,CAAEE,uBAAwB,CAAC;AAEvEP,YAAY,CAAE,yBAAyB,EAAEO,uBAAwB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}