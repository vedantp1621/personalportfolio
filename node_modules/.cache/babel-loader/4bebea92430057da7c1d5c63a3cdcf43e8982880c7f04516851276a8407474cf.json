{"ast":null,"code":"import Node, { addNodeClass } from './Node.js';\nclass TempNode extends Node {\n  constructor(type) {\n    super(type);\n    this.isTempNode = true;\n  }\n  hasDependencies(builder) {\n    return builder.getDataFromNode(this).dependenciesCount > 1;\n  }\n  build(builder, output) {\n    const buildStage = builder.getBuildStage();\n    if (buildStage === 'generate') {\n      const type = builder.getVectorType(this.getNodeType(builder, output));\n      const nodeData = builder.getDataFromNode(this);\n      if (builder.context.tempRead !== false && nodeData.propertyName !== undefined) {\n        return builder.format(nodeData.propertyName, type, output);\n      } else if (builder.context.tempWrite !== false && type !== 'void' && output !== 'void' && this.hasDependencies(builder)) {\n        const snippet = super.build(builder, type);\n        const nodeVar = builder.getVarFromNode(this, null, type);\n        const propertyName = builder.getPropertyName(nodeVar);\n        builder.addLineFlowCode(`${propertyName} = ${snippet}`);\n        nodeData.snippet = snippet;\n        nodeData.propertyName = propertyName;\n        return builder.format(nodeData.propertyName, type, output);\n      }\n    }\n    return super.build(builder, output);\n  }\n}\nexport default TempNode;\naddNodeClass('TempNode', TempNode);","map":{"version":3,"names":["Node","addNodeClass","TempNode","constructor","type","isTempNode","hasDependencies","builder","getDataFromNode","dependenciesCount","build","output","buildStage","getBuildStage","getVectorType","getNodeType","nodeData","context","tempRead","propertyName","undefined","format","tempWrite","snippet","nodeVar","getVarFromNode","getPropertyName","addLineFlowCode"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/core/TempNode.js"],"sourcesContent":["import Node, { addNodeClass } from './Node.js';\n\nclass TempNode extends Node {\n\n\tconstructor( type ) {\n\n\t\tsuper( type );\n\n\t\tthis.isTempNode = true;\n\n\t}\n\n\thasDependencies( builder ) {\n\n\t\treturn builder.getDataFromNode( this ).dependenciesCount > 1;\n\n\t}\n\n\tbuild( builder, output ) {\n\n\t\tconst buildStage = builder.getBuildStage();\n\n\t\tif ( buildStage === 'generate' ) {\n\n\t\t\tconst type = builder.getVectorType( this.getNodeType( builder, output ) );\n\t\t\tconst nodeData = builder.getDataFromNode( this );\n\n\t\t\tif ( builder.context.tempRead !== false && nodeData.propertyName !== undefined ) {\n\n\t\t\t\treturn builder.format( nodeData.propertyName, type, output );\n\n\t\t\t} else if ( builder.context.tempWrite !== false && type !== 'void' && output !== 'void' && this.hasDependencies( builder ) ) {\n\n\t\t\t\tconst snippet = super.build( builder, type );\n\n\t\t\t\tconst nodeVar = builder.getVarFromNode( this, null, type );\n\t\t\t\tconst propertyName = builder.getPropertyName( nodeVar );\n\n\t\t\t\tbuilder.addLineFlowCode( `${propertyName} = ${snippet}` );\n\n\t\t\t\tnodeData.snippet = snippet;\n\t\t\t\tnodeData.propertyName = propertyName;\n\n\t\t\t\treturn builder.format( nodeData.propertyName, type, output );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn super.build( builder, output );\n\n\t}\n\n}\n\nexport default TempNode;\n\naddNodeClass( 'TempNode', TempNode );\n"],"mappings":"AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,WAAW;AAE9C,MAAMC,QAAQ,SAASF,IAAI,CAAC;EAE3BG,WAAWA,CAAEC,IAAI,EAAG;IAEnB,KAAK,CAAEA,IAAK,CAAC;IAEb,IAAI,CAACC,UAAU,GAAG,IAAI;EAEvB;EAEAC,eAAeA,CAAEC,OAAO,EAAG;IAE1B,OAAOA,OAAO,CAACC,eAAe,CAAE,IAAK,CAAC,CAACC,iBAAiB,GAAG,CAAC;EAE7D;EAEAC,KAAKA,CAAEH,OAAO,EAAEI,MAAM,EAAG;IAExB,MAAMC,UAAU,GAAGL,OAAO,CAACM,aAAa,CAAC,CAAC;IAE1C,IAAKD,UAAU,KAAK,UAAU,EAAG;MAEhC,MAAMR,IAAI,GAAGG,OAAO,CAACO,aAAa,CAAE,IAAI,CAACC,WAAW,CAAER,OAAO,EAAEI,MAAO,CAAE,CAAC;MACzE,MAAMK,QAAQ,GAAGT,OAAO,CAACC,eAAe,CAAE,IAAK,CAAC;MAEhD,IAAKD,OAAO,CAACU,OAAO,CAACC,QAAQ,KAAK,KAAK,IAAIF,QAAQ,CAACG,YAAY,KAAKC,SAAS,EAAG;QAEhF,OAAOb,OAAO,CAACc,MAAM,CAAEL,QAAQ,CAACG,YAAY,EAAEf,IAAI,EAAEO,MAAO,CAAC;MAE7D,CAAC,MAAM,IAAKJ,OAAO,CAACU,OAAO,CAACK,SAAS,KAAK,KAAK,IAAIlB,IAAI,KAAK,MAAM,IAAIO,MAAM,KAAK,MAAM,IAAI,IAAI,CAACL,eAAe,CAAEC,OAAQ,CAAC,EAAG;QAE5H,MAAMgB,OAAO,GAAG,KAAK,CAACb,KAAK,CAAEH,OAAO,EAAEH,IAAK,CAAC;QAE5C,MAAMoB,OAAO,GAAGjB,OAAO,CAACkB,cAAc,CAAE,IAAI,EAAE,IAAI,EAAErB,IAAK,CAAC;QAC1D,MAAMe,YAAY,GAAGZ,OAAO,CAACmB,eAAe,CAAEF,OAAQ,CAAC;QAEvDjB,OAAO,CAACoB,eAAe,CAAG,GAAER,YAAa,MAAKI,OAAQ,EAAE,CAAC;QAEzDP,QAAQ,CAACO,OAAO,GAAGA,OAAO;QAC1BP,QAAQ,CAACG,YAAY,GAAGA,YAAY;QAEpC,OAAOZ,OAAO,CAACc,MAAM,CAAEL,QAAQ,CAACG,YAAY,EAAEf,IAAI,EAAEO,MAAO,CAAC;MAE7D;IAED;IAEA,OAAO,KAAK,CAACD,KAAK,CAAEH,OAAO,EAAEI,MAAO,CAAC;EAEtC;AAED;AAEA,eAAeT,QAAQ;AAEvBD,YAAY,CAAE,UAAU,EAAEC,QAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}