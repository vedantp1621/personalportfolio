{"ast":null,"code":"import _classCallCheck from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/vedant/Documents/GitHub/vedantpPersWebsite/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport ContextNode from '../core/ContextNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { addNodeElement, nodeProxy, float, vec3 } from '../shadernode/ShaderNode.js';\nvar LightingContextNode = /*#__PURE__*/function (_ContextNode) {\n  _inherits(LightingContextNode, _ContextNode);\n  var _super = _createSuper(LightingContextNode);\n  function LightingContextNode(node) {\n    var _this;\n    var lightingModel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var backdropNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var backdropAlphaNode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    _classCallCheck(this, LightingContextNode);\n    _this = _super.call(this, node);\n    _this.lightingModel = lightingModel;\n    _this.backdropNode = backdropNode;\n    _this.backdropAlphaNode = backdropAlphaNode;\n    _this._context = null;\n    return _this;\n  }\n  _createClass(LightingContextNode, [{\n    key: \"getContext\",\n    value: function getContext() {\n      var backdropNode = this.backdropNode,\n        backdropAlphaNode = this.backdropAlphaNode;\n      var directDiffuse = vec3().temp('directDiffuse'),\n        directSpecular = vec3().temp('directSpecular'),\n        indirectDiffuse = vec3().temp('indirectDiffuse'),\n        indirectSpecular = vec3().temp('indirectSpecular');\n      var reflectedLight = {\n        directDiffuse: directDiffuse,\n        directSpecular: directSpecular,\n        indirectDiffuse: indirectDiffuse,\n        indirectSpecular: indirectSpecular\n      };\n      var context = {\n        radiance: vec3().temp('radiance'),\n        irradiance: vec3().temp('irradiance'),\n        iblIrradiance: vec3().temp('iblIrradiance'),\n        ambientOcclusion: float(1).temp('ambientOcclusion'),\n        reflectedLight: reflectedLight,\n        backdrop: backdropNode,\n        backdropAlpha: backdropAlphaNode\n      };\n      return context;\n    }\n  }, {\n    key: \"setup\",\n    value: function setup(builder) {\n      this.context = this._context || (this._context = this.getContext());\n      this.context.lightingModel = this.lightingModel || builder.context.lightingModel;\n      return _get(_getPrototypeOf(LightingContextNode.prototype), \"setup\", this).call(this, builder);\n    }\n  }]);\n  return LightingContextNode;\n}(ContextNode);\nexport default LightingContextNode;\nexport var lightingContext = nodeProxy(LightingContextNode);\naddNodeElement('lightingContext', lightingContext);\naddNodeClass('LightingContextNode', LightingContextNode);","map":{"version":3,"names":["ContextNode","addNodeClass","addNodeElement","nodeProxy","float","vec3","LightingContextNode","_ContextNode","_inherits","_super","_createSuper","node","_this","lightingModel","arguments","length","undefined","backdropNode","backdropAlphaNode","_classCallCheck","call","_context","_createClass","key","value","getContext","directDiffuse","temp","directSpecular","indirectDiffuse","indirectSpecular","reflectedLight","context","radiance","irradiance","iblIrradiance","ambientOcclusion","backdrop","backdropAlpha","setup","builder","_get","_getPrototypeOf","prototype","lightingContext"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/lighting/LightingContextNode.js"],"sourcesContent":["import ContextNode from '../core/ContextNode.js';\nimport { addNodeClass } from '../core/Node.js';\nimport { addNodeElement, nodeProxy, float, vec3 } from '../shadernode/ShaderNode.js';\n\nclass LightingContextNode extends ContextNode {\n\n\tconstructor( node, lightingModel = null, backdropNode = null, backdropAlphaNode = null ) {\n\n\t\tsuper( node );\n\n\t\tthis.lightingModel = lightingModel;\n\t\tthis.backdropNode = backdropNode;\n\t\tthis.backdropAlphaNode = backdropAlphaNode;\n\n\t\tthis._context = null;\n\n\t}\n\n\tgetContext() {\n\n\t\tconst { backdropNode, backdropAlphaNode } = this;\n\n\t\tconst directDiffuse = vec3().temp( 'directDiffuse' ),\n\t\t\tdirectSpecular = vec3().temp( 'directSpecular' ),\n\t\t\tindirectDiffuse = vec3().temp( 'indirectDiffuse' ),\n\t\t\tindirectSpecular = vec3().temp( 'indirectSpecular' );\n\n\t\tconst reflectedLight = {\n\t\t\tdirectDiffuse,\n\t\t\tdirectSpecular,\n\t\t\tindirectDiffuse,\n\t\t\tindirectSpecular\n\t\t};\n\n\t\tconst context = {\n\t\t\tradiance: vec3().temp( 'radiance' ),\n\t\t\tirradiance: vec3().temp( 'irradiance' ),\n\t\t\tiblIrradiance: vec3().temp( 'iblIrradiance' ),\n\t\t\tambientOcclusion: float( 1 ).temp( 'ambientOcclusion' ),\n\t\t\treflectedLight,\n\t\t\tbackdrop: backdropNode,\n\t\t\tbackdropAlpha: backdropAlphaNode\n\t\t};\n\n\t\treturn context;\n\n\t}\n\n\tsetup( builder ) {\n\n\t\tthis.context = this._context || ( this._context = this.getContext() );\n\t\tthis.context.lightingModel = this.lightingModel || builder.context.lightingModel;\n\n\t\treturn super.setup( builder );\n\n\t}\n\n}\n\nexport default LightingContextNode;\n\nexport const lightingContext = nodeProxy( LightingContextNode );\n\naddNodeElement( 'lightingContext', lightingContext );\n\naddNodeClass( 'LightingContextNode', LightingContextNode );\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}