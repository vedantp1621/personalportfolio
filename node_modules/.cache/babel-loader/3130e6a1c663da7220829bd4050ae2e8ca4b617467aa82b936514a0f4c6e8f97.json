{"ast":null,"code":"import Node, { addNodeClass } from './Node.js';\nimport NodeCache from './NodeCache.js';\nimport { addNodeElement, nodeProxy } from '../shadernode/ShaderNode.js';\nclass CacheNode extends Node {\n  constructor(node) {\n    let cache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new NodeCache();\n    super();\n    this.isCacheNode = true;\n    this.node = node;\n    this.cache = cache;\n  }\n  getNodeType(builder) {\n    return this.node.getNodeType(builder);\n  }\n  build(builder) {\n    const previousCache = builder.getCache();\n    const cache = this.cache || builder.globalCache;\n    builder.setCache(cache);\n    for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      params[_key - 1] = arguments[_key];\n    }\n    const data = this.node.build(builder, ...params);\n    builder.setCache(previousCache);\n    return data;\n  }\n}\nexport default CacheNode;\nexport const cache = nodeProxy(CacheNode);\nexport const globalCache = node => cache(node, null);\naddNodeElement('cache', cache);\naddNodeElement('globalCache', globalCache);\naddNodeClass('CacheNode', CacheNode);","map":{"version":3,"names":["Node","addNodeClass","NodeCache","addNodeElement","nodeProxy","CacheNode","constructor","node","cache","arguments","length","undefined","isCacheNode","getNodeType","builder","build","previousCache","getCache","globalCache","setCache","_len","params","Array","_key","data"],"sources":["/Users/vedant/node_modules/three/examples/jsm/nodes/core/CacheNode.js"],"sourcesContent":["import Node, { addNodeClass } from './Node.js';\nimport NodeCache from './NodeCache.js';\nimport { addNodeElement, nodeProxy } from '../shadernode/ShaderNode.js';\n\nclass CacheNode extends Node {\n\n\tconstructor( node, cache = new NodeCache() ) {\n\n\t\tsuper();\n\n\t\tthis.isCacheNode = true;\n\n\t\tthis.node = node;\n\t\tthis.cache = cache;\n\n\t}\n\n\tgetNodeType( builder ) {\n\n\t\treturn this.node.getNodeType( builder );\n\n\t}\n\n\tbuild( builder, ...params ) {\n\n\t\tconst previousCache = builder.getCache();\n\t\tconst cache = this.cache || builder.globalCache;\n\n\t\tbuilder.setCache( cache );\n\n\t\tconst data = this.node.build( builder, ...params );\n\n\t\tbuilder.setCache( previousCache );\n\n\t\treturn data;\n\n\t}\n\n}\n\nexport default CacheNode;\n\nexport const cache = nodeProxy( CacheNode );\nexport const globalCache = ( node ) => cache( node, null );\n\naddNodeElement( 'cache', cache );\naddNodeElement( 'globalCache', globalCache );\n\naddNodeClass( 'CacheNode', CacheNode );\n"],"mappings":"AAAA,OAAOA,IAAI,IAAIC,YAAY,QAAQ,WAAW;AAC9C,OAAOC,SAAS,MAAM,gBAAgB;AACtC,SAASC,cAAc,EAAEC,SAAS,QAAQ,6BAA6B;AAEvE,MAAMC,SAAS,SAASL,IAAI,CAAC;EAE5BM,WAAWA,CAAEC,IAAI,EAA4B;IAAA,IAA1BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAIP,SAAS,CAAC,CAAC;IAEzC,KAAK,CAAC,CAAC;IAEP,IAAI,CAACU,WAAW,GAAG,IAAI;IAEvB,IAAI,CAACL,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,KAAK,GAAGA,KAAK;EAEnB;EAEAK,WAAWA,CAAEC,OAAO,EAAG;IAEtB,OAAO,IAAI,CAACP,IAAI,CAACM,WAAW,CAAEC,OAAQ,CAAC;EAExC;EAEAC,KAAKA,CAAED,OAAO,EAAc;IAE3B,MAAME,aAAa,GAAGF,OAAO,CAACG,QAAQ,CAAC,CAAC;IACxC,MAAMT,KAAK,GAAG,IAAI,CAACA,KAAK,IAAIM,OAAO,CAACI,WAAW;IAE/CJ,OAAO,CAACK,QAAQ,CAAEX,KAAM,CAAC;IAAC,SAAAY,IAAA,GAAAX,SAAA,CAAAC,MAAA,EALRW,MAAM,OAAAC,KAAA,CAAAF,IAAA,OAAAA,IAAA,WAAAG,IAAA,MAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA;MAANF,MAAM,CAAAE,IAAA,QAAAd,SAAA,CAAAc,IAAA;IAAA;IAOxB,MAAMC,IAAI,GAAG,IAAI,CAACjB,IAAI,CAACQ,KAAK,CAAED,OAAO,EAAE,GAAGO,MAAO,CAAC;IAElDP,OAAO,CAACK,QAAQ,CAAEH,aAAc,CAAC;IAEjC,OAAOQ,IAAI;EAEZ;AAED;AAEA,eAAenB,SAAS;AAExB,OAAO,MAAMG,KAAK,GAAGJ,SAAS,CAAEC,SAAU,CAAC;AAC3C,OAAO,MAAMa,WAAW,GAAKX,IAAI,IAAMC,KAAK,CAAED,IAAI,EAAE,IAAK,CAAC;AAE1DJ,cAAc,CAAE,OAAO,EAAEK,KAAM,CAAC;AAChCL,cAAc,CAAE,aAAa,EAAEe,WAAY,CAAC;AAE5CjB,YAAY,CAAE,WAAW,EAAEI,SAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}